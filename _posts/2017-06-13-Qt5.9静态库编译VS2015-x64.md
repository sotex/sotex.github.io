---
layout:  post
title:  "Qt5.9静态库编译VS2015-x64"
date:  2017-06-13
categories:  编程
tags:  编程
comments: 1
---

[TOC]
[博客园文章地址 http://www.cnblogs.com/oloroso/archive/2017/06/13/7004433.html](http://www.cnblogs.com/oloroso/archive/2017/06/13/7004433.html)
不多说。
编译配置参数如下
```bat
configure.bat  -static  -no-openssl -release
```
不支持`OpenSSL`，也没有安装各个数据库的`Driver`，所以数据库方面也只支持了`SQLite`。

下载地址如下
**全部文件下载** 链接: http://pan.baidu.com/s/1bp1rdCF 密码: dsve
**头文件和库文件下载** 链接: http://pan.baidu.com/s/1c2ep95m

------------------2017年9月5日23:55:51 补充----------------------
感谢 @蓝天白云-QT 提出的疑惑，这里简单的说一下。
在编译的静态库使用的是`/MD`链接，所以`/MT`参数的不能编过。
链接的时候可能会提示很多符号找不到，这个原因是静态库很多符号都是依赖于外部，具体可看各个`lib`文件同名的`pri`文件，将相应的库添加到工程中即可。

这里以一个Qt自带的计算器示例代码做了个简单的VS工程，测试可用。

https://files.cnblogs.com/files/oloroso/calculator.7z

然后还有就是编译出的结果运行的时候可能会出现
```
This application failed to start because it could not find or load the Qt platform plugin "windows"
in "".

Reinstalling the application may fix this problem.
```
的问题，这个是因为找不到插件目录的原因，这个问题解决也很简单，将`plugins/platforms`目录整个拷贝到生成的exe文件目录。
同时在`main`函数中添加`QCoreApplication::addLibraryPath("./");`语句。
具体的可以看 https://stackoverflow.com/questions/21268558/application-failed-to-start-because-it-could-not-find-or-load-the-qt-platform-pl