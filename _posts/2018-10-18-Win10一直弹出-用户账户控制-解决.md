---
layout:  post
title:  "Win10一直弹出 用户账户控制 解决"
date:  2018-10-18
categories:  其它
tags:  其它
comments: 1
---
[TOC]
[博客园原文地址 http://www.cnblogs.com/oloroso/archive/2018/10/18/9771798.html](http://www.cnblogs.com/oloroso/archive/2018/10/18/9771798.html)



## 问题
自从更新了Windows后，就出现了一个问题，隔一段时间就弹出一次下面的对话框，而且如果时间稍长，会弹出多个。
![](https://img2018.cnblogs.com/blog/693958/201810/693958-20181026144621662-1538381628.jpg)


## 解决方法一

对于这个`CLSID:{FCC74B77-EC3E-4dd8-A80B-008A702075A9}`这个真不知道是什么程序，打开注册表找到后才知道是`appwiz.cpl`。
![](https://img2018.cnblogs.com/blog/693958/201810/693958-20181011124629112-663901804.png)

![](https://img2018.cnblogs.com/blog/693958/201810/693958-20181011124647919-1267714302.png)

修改注册表，给这个程序管理员权限运行。

定位到注册表`HKEY_CURRENT_USER\Software\Microsoft\Windows NT\CurrentVersion\AppCompatFlags\Layers`目录

添加一个字符串值，名称为`%SystemRoot%\system32\appwiz.cpl`，数据为`RUNASADMIN`。

![](https://img2018.cnblogs.com/blog/693958/201810/693958-20181011124829304-1950979466.png)

### 将appwiz.cpl加入UAC白名单
先下载[微软官方Windows Assessment and Deployment Kit 工具](https://docs.microsoft.com/en-us/windows-hardware/get-started/adk-install)安装。
别的东西不重要，关键是安装**应用程序兼容性工具**
![](https://img2018.cnblogs.com/blog/693958/201810/693958-20181029174016677-1140161343.png)

安装完成之后，打开对应版本(32/64bit)的**Compatibility Administrator**程序（一般都是64bit的），将`appwiz.cpl`程序加入UAC白名单即可。
![](https://img2018.cnblogs.com/blog/693958/201810/693958-20181029174618383-1285624469.png)

![](https://img2018.cnblogs.com/blog/693958/201810/693958-20181029174923833-1747906948.png)

![](https://img2018.cnblogs.com/blog/693958/201810/693958-20181029175110410-1872884079.png)
**之后一路下一步，最后点击完成。完成之后点击菜单栏上的Save按钮，保持一下文件，保持在哪里不重要。之后安装一下，就把appwiz.cpl加入UAC白名单了。**
![](https://img2018.cnblogs.com/blog/693958/201810/693958-20181029175601862-1398355081.png)

## 解决方法二

以管理员身份运行`PowerShell`，然后运行下面命令。
`Get-AppxPackage -AllUsers| Foreach {Add-AppxPackage -DisableDevelopmentMode -Register “($_.InstallLocation)\AppXManifest.xml”}`
![](https://img2018.cnblogs.com/blog/693958/201810/693958-20181018122943693-832232717.png)

如果像我这里这样，那么运行下面的命令。
`Get-AppxPackage | % { Add-AppxPackage -DisableDevelopmentMode -Register "$($_.InstallLocation)\AppxManifest.xml" -verbose }`

![](https://img2018.cnblogs.com/blog/693958/201810/693958-20181018123031302-928106692.png)