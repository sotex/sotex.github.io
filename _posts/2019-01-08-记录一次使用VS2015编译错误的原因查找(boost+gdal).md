---
layout:  post
title:  "记录一次使用VS2015编译错误的原因查找(boost+gdal)"
date:  2019-01-08
categories:  编程
tags:  编程
comments: 1
---

[TOC]
[博客园文章地址 http://www.cnblogs.com/oloroso/archive/2019/01/08/10240286.html](http://www.cnblogs.com/oloroso/archive/2019/01/08/10240286.html)
## 编译错误说明
在一个解决方案中的**项目A**中使用到了`boost`，完全没有问题。在**项目B**中也使用了`boost`库，编译的时候就产生了一堆错误。
![](https://img2018.cnblogs.com/blog/693958/201901/693958-20190108172309988-1807820233.png)

## 原因查找
两个项目通过对比，唯一的不同就是项目B使用了`gdal`库，通过报错可以看到
![](https://img2018.cnblogs.com/blog/693958/201901/693958-20190108172422432-1393398400.png)

因为我使用的boost是通过[vcpkg](https://blogs.msdn.microsoft.com/vcblog/2016/09/19/vcpkg-a-tool-to-acquire-and-build-c-open-source-libraries-on-windows/)安装的，而GDAL库是在[http://www.gisinternals.com](http://www.gisinternals.com)下载的。
下载的**GDAL库中包含了一部分boost库的内容**，而两个不同位置的**头文件**内容不一样，导致在`include`的时候没有使用到正确的那一个头文件（两个boost编译的配置信息不一样），所以在编译的时候导致了错误。

## 解决办法
这里需要屏蔽掉`GDAL\include`目录下的`boost`相关文件，但是我在VS的工程设置以及`cl.exe`的参数中都没有找到禁用某个`include`目录的选项。如果不屏蔽也要使得vcpkg安装的boost库先被搜索，那么就需要调整搜索顺序，这个也不好弄。
因为`gdal`中的`boost`并不被使用，使用直接改名或删除算了。