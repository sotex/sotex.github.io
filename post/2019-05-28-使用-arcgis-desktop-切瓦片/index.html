  <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> 使用 ArcGIS Desktop 切瓦片 &middot; 风吹过 </title>
    
    <link rel="stylesheet" type="text/css" href="http://sotex.github.io/css/uno.min.css" />
    <link rel="stylesheet" type="text/css" href="http://sotex.github.io/css/lightGallery.css" />
    
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.ico">
    
    <link href="" rel="alternate" type="application/rss+xml" title="风吹过" />
    
    <script src="http://sotex.github.io/js/jquery.min.js"></script>
    <script src="http://sotex.github.io/js/main.min.js">
    </script>
</head>

  <body>
    <div id="scriptHeader">
    <span class="mobile btn-mobile-menu">
            <i class="fa fa-bars btn-mobile-menu__icon"></i>
            <i class="fa fa-times btn-mobile-close__icon hidden"> </i>
    </span>
    <header class="
        
            panel-cover panel-cover--collapsed
        " >
    <div class="panel-main">
        <div class="panel-main__inner panel-inverted">
            <div class="panel-main__content"> 
                <a href="http://sotex.github.io//" title="link to homepage for 风吹过"> <img src="/images/user.png" width="80" alt="风吹过 logo" class="panel-cover__logo logo" /> </a> 
                <h1 class="panel-cover__title panel-title">
                    <a href="http://sotex.github.io//"  title="link to homepage for 风吹过">风吹过</a>
                </h1>
                <hr class="panel-cover__divider" />
                <p class="panel-cover__description">  以前，晚餐后在学校田径场的大榕树下，散散步吹吹风，累了就去图书馆看看书，感觉真好。  </p>
                <hr class="panel-cover__divider panel-cover__divider--secondary" />
                <div class="navigation-wrapper">
                    <nav class="cover-navigation cover-navigation--primary">
                        <ul class="navigation">
                            <li class="navigation__item"><a href="http://sotex.github.io/#blog" title="查看 风吹过 博客" class="blog-button">博客</a> </li></br>
                            <li class="navigation__item"><a href="/pages/about.html" title="查看简介 " class="blog-button">简介</a> </li></br> 
                            
                       </ul>
                    </nav> <nav class="cover-navigation navigation--social">
    <ul class="navigation"> 
	
        
        <li class="navigation__item">
            <a href="http://cnblogs.com/oloroso" title="@oloroso 博客园"> <i class='fa fa-twitter'></i> <span class="label">cnblogs</span> </a>
        </li> 
	
	
        
        <li class="navigation__item">
            <a href="https://github.com/sotex" title="sotex on github"> <i class='fa fa-github'></i> <span class="label">Github</span> </a>
        </li>  </br>
	
	
	
        
        <li class="navigation__item">
            <a href="mailto:ymwh@foxmail.com" title="Email ymwh@foxmail.com"> <i class='fa fa-envelope-o'></i> <span class="label">Email</span> </a>
        </li>  </ul>
</nav>
 </div>
            </div>
        </div>
        <div class="panel-cover--overlay"></div>
    </div>
</header>
</div>
<noscript>
    <style>
        #scriptHeader {display:none;}
        .navigation-wrapper{
            display: block;
            top: 0;
        }
    </style>

    <header class="panel-cover panel-cover--collapsed" style="background-image: url()">
        <div class="panel-main">
            <div class="panel-main__inner panel-inverted">
                <div class="panel-main__content"> 
                    <a href="http://sotex.github.io//" title="link to homepage for 风吹过"> <img src="/images/user.png" width="80" alt="风吹过 logo" class="panel-cover__logo logo" /> </a> 
                    <h1 class="panel-cover__title panel-title">
                        <a href="http://sotex.github.io//"  title="link to homepage for 风吹过">风吹过</a>
                    </h1>
                    <hr class="panel-cover__divider" />
                    <p class="panel-cover__description">  以前，晚餐后在学校田径场的大榕树下，散散步吹吹风，累了就去图书馆看看书，感觉真好。  </p>
                    <hr class="panel-cover__divider panel-cover__divider--secondary" />
                    <div class="navigation-wrapper">
                        <nav class="cover-navigation cover-navigation--primary">
                            <ul class="navigation">
                                <li class="navigation__item"><a href="http://sotex.github.io//#blog" title="查看 风吹过 博客" class="blog-button">博客</a> </li></br>
                                <li class="navigation__item"><a href="/pages/about.html" title="查看简介" class="blog-button">简介</a> </li></br> 
                                
                           </ul>
                        </nav> <nav class="cover-navigation navigation--social">
    <ul class="navigation"> 
	
        
        <li class="navigation__item">
            <a href="http://cnblogs.com/oloroso" title="@oloroso 博客园"> <i class='fa fa-twitter'></i> <span class="label">cnblogs</span> </a>
        </li> 
	
	
        
        <li class="navigation__item">
            <a href="https://github.com/sotex" title="sotex on github"> <i class='fa fa-github'></i> <span class="label">Github</span> </a>
        </li>  </br>
	
	
	
        
        <li class="navigation__item">
            <a href="mailto:ymwh@foxmail.com" title="Email ymwh@foxmail.com"> <i class='fa fa-envelope-o'></i> <span class="label">Email</span> </a>
        </li>  </ul>
</nav>
 </div>
                </div>
            </div>
            <div class="panel-cover--overlay"></div>
        </div>
    </header>
</noscript>

    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <div class="post">
          <h1>使用 ArcGIS Desktop 切瓦片</h1>
          <span class="post-date">2019年05月28日</span>
          

<p>[TOC]
<a href="http://www.cnblogs.com/oloroso/archive/2019/05/28/10936522.html">博客园原文地址 http://www.cnblogs.com/oloroso/archive/2019/05/28/10936522.html</a></p>

<h2 id="1-生成切片缓存切片方案">1、生成切片缓存切片方案</h2>

<p>ArcGIS有默认的切片方案，如果需要自定义切片规则，需要先生成一个切片方案。</p>

<p>打开ArcMap，打开 <strong>工具箱(Tools Box) &ndash;&gt; 系统工具箱(System Tools Box) &ndash;&gt; 数据管理工具(Data Managment Tools) &ndash;&gt; 切片缓存(Tile Cache)&ndash;&gt;生成切片缓存切片方案(Generate Tile Cache Tiling Scheme)</strong></p>

<p><img src="https://img2018.cnblogs.com/blog/693958/201905/693958-20190528124723543-1430779030.png" alt="生成切片缓存切片方案" /></p>

<p><strong>各个选项简要说明：</strong></p>

<ul>
<li>1、输入数据源：这个是用来确定这个切片方案能够切多少级的，切片的最大级别的分辨率<strong>最多能够是</strong>小于等于输入的数据源的分辨率，也就是说最多能切到刚好等于或者小于数据源的分辨率，就不能再继续往下切了。</li>
<li>2、输出切片方案：也就是这个切片方案的保存位置，不能是一个已经存在的文件。</li>
<li>3、生成方案：二选一，<strong>NEW</strong> 表示创建一个新的，<strong>PREDEFINED</strong> 表示基于一个已有的切片方案来创建。</li>
<li>4、比例级数：指定要切多少级，这个数据会自动根据输入数据源的分辨率进行调整。</li>
<li>5、比例：指定比例级数后，会自动计算出相应的比例系数列表，如果需要添加，则可以在这里输入后，点击右侧的<code>+</code>按钮进行添加。移除则是在表格中选择后，点击右侧的<code>X</code>按钮进行移除。</li>
<li>6、切片原点：就是切片的第一个瓦片(0,0)的左上角点坐标。</li>
<li>7、每英寸的点数(像素)：就是DPI的设置，一般国内的切片96（天地图），但是WMTS服务通常是90.714（WMTS标准里面就是，但是ArcGIS Desktop10.2/3版本，由于计算使用的经纬度与米的换算系数偏小的原因，导致其计算比例尺与分辨率的结果有问题，其加载WMTS图层时可见）</li>
<li>8、切片大小（以像素为单位）：瓦片的大小，通常是<code>256 x 256</code>。经过我的测试，大部分情况下<code>512 x 512</code>的瓦片大小，在切瓦片的速度和发布成服务后的浏览速度上，都是优于256大小的，1024大小的瓦片在大多数时候也是优于256的，但与512差异不大。</li>
<li>9、切片格式：主要是<strong>PNGx、JPEG、MIXED</strong>。MIXED混合格式，指的是在切片的时候，如果检测到瓦片内有透明区域，则这个瓦片使用PNG32格式，如果没有，则使用JPEG格式。这样做可以在不失去透明通道的前提下，有效降低瓦片数据文件的大小。</li>
<li>10、切片压缩质量：仅对JPEG（包括MIXED中使用JPEG的瓦片）有效，参数值需要介于1-100之间，默认是75。</li>
<li>11、存储格式：<strong>COMPACT</strong> 紧凑格式，也就是把多个瓦片（最多128x128个）存储到一个<code>bundle/bundlx</code>文件的形式，避免出现大量碎文件。<strong>EXPLODED</strong> 分散格式，就是把每一个瓦片存储成一个图片文件，这个形式的瓦片不能和tpk包一起使用。</li>
</ul>

<p>参考：<a href="http://desktop.arcgis.com/en/arcmap/10.5/tools/data-management-toolbox/generate-tile-cache-tiling-scheme.htm">Generate Tile Cache Tiling Scheme</a></p>

<h2 id="2-切瓦片">2、切瓦片</h2>

<p>切瓦片在ArcGIS里面没有直接使用这个名称，在“管理切片缓存”里面。</p>

<p>打开ArcMap，打开 <strong>工具箱(Tools Box) &ndash;&gt; 系统工具箱(System Tools Box) &ndash;&gt; 数据管理工具(Data Managment Tools) &ndash;&gt; 切片缓存(Tile Cache)&ndash;&gt;管理切片缓存(Manage Tile Cache)</strong></p>

<p><img src="https://img2018.cnblogs.com/blog/693958/201905/693958-20190528124745988-274072170.png" alt="管理切片缓存" /></p>

<p><strong>各个选项简要说明：</strong></p>

<ul>
<li>1、缓存位置：切出来的瓦片保存的文件夹，也可以是已经存在的瓦片目录，因为这里不仅仅是可以切瓦片。</li>
<li>2、缓存名称：切出来的瓦片保存的子一级文件夹名称，可以为空。</li>
<li>3、管理模式：<strong>RECREATE_ALL_TILES</strong> 替换所有瓦片，不管存不存在。<strong>RECREATE_EMPTY_TILES</strong> 替换空瓦片，也就是如果存在则不替换。<strong>DELETE_TILES</strong> 删除瓦片，这个选项用来删除所有的瓦片数据文件，但是不删除目录结构。（注意：如果输出是已经存在的瓦片目录，则该目录下的<strong>conf.cdi</strong>并不会更新，这在替换了数据源等情况下可能导致输出瓦片与描述信息不对应）</li>
<li>4、输入数据源：选择要切片的数据文件，虽然这里写着可选，但是如果没有指定就会报错。数据文件必须指定了坐标系，且能够转换到WGS84椭球下。</li>
<li>5、输入切片方案：切片的规则。<strong>ARCGISONLINE_SCHEME</strong> 使用ArcGIS在线地图的默认切片规则（3857）。<strong>IMPORT_SCHEME</strong> 导入方案，可以导入自己创建的切片方案。（ArcGIS10.5版本有更多模式）</li>
<li>6、最小/最大 缓存比例：计算切片的比例系数的上下限，在这个区间之外的将被忽略。</li>
<li>7、感兴趣区：定义要切片的区域。这里可以设置一个矢量文件或者绘制的矢量对象。</li>
<li>8、最大源像元大小：这个是对有金字塔文件的数据使用的。如果为空，则使用全部金字塔。如果不为空，则仅使用像元大小在指定值以内的金字塔层。</li>
</ul>

<p>参考：<a href="http://desktop.arcgis.com/en/arcmap/10.5/tools/data-management-toolbox/manage-tile-cache.htm">Manage Tile Cache</a></p>

        </div>
        <div class="sharing">







</div>
        



      </div>
    </div>

  </body>
  
</html>
